# Kafka RPS research

Эксперимент с Kafka: Производительность передачи данных

### Описание эксперимента

Цель эксперимента – оценить производительность и надежность передачи данных через Apache Kafka при различных сценариях публикации и потребления данных.

### Структура данных

### Таблица `person`
```sql
CREATE TABLE person (
    id BIGINT,
    name VARCHAR,
    about_me TEXT,
    birthdate DATETIME
);
```

### Таблица `child`
```sql
CREATE TABLE child (
    parent_id BIGINT,
    child_id BIGINT
);
```

### Заполнение данных

1. Заполнить таблицу `person`:
- 1 000 000 записей с `about_me` не более 10 символов (**Тип А**).
- 1 000 000 записей с `about_me` более 1000 символов (**Тип Б**).
2. Заполнить таблицу `child`:
- 500 000 людей из (А) имеют по **1 ребенку**.
- 20 000 людей из (Б) имеют по **5 детей**.

### Архитектура Kafka

- Для каждого эксперимента создается отдельный **топик** в Kafka.
- В проект добавлены **паблишер** (Producer) и **консьюмер** (Consumer).
- Формат передаваемых данных – **JSON**, содержащий родителя и список его детей.

### Проверяемые сценарии

1. **Отправка без гарантии чтения**
2. **Отправка с гарантией чтения**
3. **Пакетное чтение без гарантии чтения**
4. **Пакетное чтение с гарантией чтения**
5. **Пакетное чтение с фильтром в листенере с гарантией чтения**
6. **Пакетное чтение с фильтром внутри консьюмера с гарантией чтения**
7. **Отправка данных через Avro**

### Анализ результатов

После выполнения эксперимента необходимо:

- Сформировать таблицу для **7 топиков**.
- Замерить **RPS (Requests Per Second)** отправки и чтения.
- Разделить данные по **Типам А и Б**.
- Сделать выводы о влиянии длины сообщения и способа чтения на производительность.